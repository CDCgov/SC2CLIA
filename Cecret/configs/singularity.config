singularity {
  enabled = true
  autoMounts = true
  cacheDir = "SINGULARITY_CACHE"
}

// this will clean up the work directory after each run
cleanup = true

//note: add container info in the containers.config file !

includeConfig 'containers.config'
//includeConfig 'containers_fixedversion.config'

//# For process kraken2
params.kraken2 = true
params.kraken2_db = ' ***replace with your own path here***'

process {

  errorStrategy = 'retry'
  maxRetries = 1

  cpus = 8
  memory = '8 GB'

  withName:pacbam_amplicons{
    cpus = 4
    memory = '8 GB'
  }
  withName:pacbam_orfs{
    cpus = 4
    memory = '8 GB'
  }
  withName:ivar_vcf{
    cpus = 2
    memory = '8 GB'
  }
  withName:vadr{
    cpus = 2
    memory = '8 GB'
  }
  withName:mqc{
    cpus = 2
    memory = '8 GB'
  }
  withName:coverage_depth_bwa{
    cpus = 8
    memory = '8 GB'
  }
  withName:coverage_depth_samtools{
    cpus = 8
    memory = '8 GB'
  }
  withName:SC2Ref_matched_reads{
    cpus = 4
    memory = '8 GB'
  }
  withName:samtools_insertsizes{
    cpus = 4
    memory = '8 GB'
  }
  
}




